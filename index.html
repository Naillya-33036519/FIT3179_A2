<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tourism Analysis in Malaysia</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script> 
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    <style>
        /* Base styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex; /* Flexbox for centering */
            justify-content: center; /* Center horizontally */
        }

        /* Container for content */
        .container {
            width: 67vw; 
            background-color: white; /* Background color for the container */
            border: 1px solid #d0d0d0; /* Border styling */
            border-radius: 5px; /* Rounded corners */
            padding: 10px; /* Padding around content */
            justify-content: center;
        }

        /* Main header */
        h1 {
            text-align: center;
            font-size: 1.6em; /* Slightly reduced font size */
            margin-top: 10px; /* Reduced margin */ 
            padding-top: 5px;
        }

        /* Section styling */
        .section {
            margin: 10px 0; /* Reduced margins */
            padding: 10px; /* Add padding around sections */
            background-color: #f9f9f9; /* Light background for sections */
        }

        /* Section title styling */
        .section h2 {
            font-size: 1.4em; /* Slightly reduced font size */
            margin-top: 0;
        }

        /* Flex and grid containers */
        .grid-container {
            display: flex;
            justify-content: center; /* Center align items */
            flex-wrap: nowrap; /* Prevent wrapping */
            margin: 0;
            padding: 0;
            height: auto;
        }

        /* Visualization styling */
        .visualization {
            background-color: white;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px; /* Add margin around visualizations */
            padding: 0;
            flex: 1; /* Allow to grow and fill space */
            height: auto;
            max-width: 100%; /* Prevent overflow */
        }

        /* Explanatory text for each chart */
        .chart-description {
            font-size: 1.2em; 
            margin: 10px 0;
            padding-bottom: 5px; /* Add padding below the chart description */
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            body {
                padding: 0 5px;
            }

            .container {
                width: 90vw; /* Adjusted width for smaller screens */
            }

            h1 {
                font-size: 1.4em; /* Adjusted font size */
                padding: 5px;
            }

            .section {
                padding: 5px;
            }

            .visualization {
                max-width: 100%; /* Full width on smaller screens */
                margin: 5px 0;
                height: auto; /* Allow height to adjust on smaller screens */
            }

            .grid-container {
                flex-direction: column; /* Stack charts vertically on smaller screens */
            }
        }
    </style>
</head>
<body>
    <!-- Main content container -->
    <div class="container">
        <!-- Main header for the webpage -->
        <h1>Exploring Tourism in Malaysia</h1>

        <!-- Section 1: Tourism Trends and Dynamics -->
        <div class="section">
            <h2>Tourism Trends and Dynamics</h2>
            <p class="chart-description">Analyzing tourism trends and dynamics is crucial for understanding Malaysia's tourism landscape. It reveals peak travel seasons, popular markets, and changing preferences, informing targeted marketing strategies and resource allocation. This insight helps stakeholders adapt recovery initiatives post-pandemic, enhancing Malaysia's competitiveness in the global tourism industry.</p>
            
            <!-- Visualization container for Section 1 -->
            <div class="visualization" id="tourist-countries-chart"></div>
            <div class="chart-description">Tourism trends from 2016-2024 show strong recovery from nearby countries like Singapore and Indonesia, while long-haul markets like China and Australia recover more slowly. Understanding these patterns is key to shaping policies and strategies that support Malaysia's economic recovery and tourism growth.</div>

            <div class="visualization" id="seasonal-arrivals-chart"></div>
            <div class="chart-description">The heatmap displays Malaysia's tourist arrivals from 2013 to 2023, illustrating notable trends over the years. Before the COVID-19 pandemic, arrivals generally increased, particularly in peak months like July. The dramatic decline in 2020 highlights the pandemic's severe impact on global travel. However, a gradual recovery began in 2022 and continued into 2023, with monthly arrivals slowly rising, yet still below pre-pandemic levels. </div>
        </div>

        <!-- Section 2: Tourist Profile -->
        <div class="section">
            <h2>Understanding the Tourist Profile</h2>
            <p class="chart-description">This section focuses on the demographic profile of tourists, including gender and age distribution. Analyzing gender distribution among tourists is essential for understanding tourism trends in Malaysia. It enables tailored marketing strategies and services, fostering inclusivity and addressing specific needs within the tourism sector.</p>
            
            <!-- Visualization container with side-by-side alignment for Section 2 -->
            <div class="grid-container">
                <div class="visualization" style="width: 30%; height: 450px;" id="gender-arrivals-chart"></div>
                <div class="visualization wide" style="width: 70%; height: 450px;" id="country-gender-chart"></div>
            </div>
            <div class="chart-description">The data reveals that 52.76% of tourists are male, with additional insights from key source countries. This highlights gender dynamics in tourism, aiding stakeholders in improving visitor experiences.</div>
        </div>

        <!-- Section 3: Tourism Expenditure and Revenue -->
        <div class="section">
            <h2>Tourism Expenditure and Revenue</h2>
            <p class="chart-description">This section presents data on tourist expenditures and revenue generated by tourism in Malaysia, crucial for economic analysis and planning.</p>
            
            <!-- Visualization container for Section 3 -->
            <div class="visualization" id="tourist-expenditure-chart"></div>
            <div class="chart-description">The chart shows tourist spending in Malaysia from 2014 to 2023, divided into Accommodation & F&B, Passenger Transport, and Shopping. Accommodation consistently has the largest share, with a spike in transport spending in 2021. Overall spending dropped in 2020 due to the pandemic.</div>

            <div class="visualization" id="revenue-tourist-chart"></div>
            <div class="chart-description">The "Revenue" chart correlates financial gains with visitor numbers, showcasing trends in revenue generation over time.</div>
        </div>

        <!-- Section 4: Regional Tourism Insights -->
        <div class="section">
            <h2>Regional Tourism Insights</h2>
            <p class="chart-description">This visualization represents the distribution of tourist visitors across different states in Malaysia. The color gradient shows the number of visitors, scaled for comparison, helping identify which states attract the most tourists.</p>
           
            <div class="visualization" id="regional-tourism-map"></div>
        </div>

    <!-- Section 5: Purpose of Visit and Stay Trends -->
    <div class="section">
        <h2>Travel Motivations and Stay Duration Insights</h2>
        <p class="chart-description">This section provides an overview of why tourists visit Malaysia and how long they typically stay, helping to guide tourism planning and development.</p>
        
        <!-- Visualization container with side-by-side alignment for Section 5 -->
        <div class="grid-container">
            <div class="visualization" style="width: 90%; height: 300px;" id="purpose-of-visit-chart"></div>
            <div class="visualization wide" style="width: 100%; height: 300px;" id="stay-trends-chart"></div>
        </div>
        <div class="chart-description">The donut chart illustrates key travel reasons such as Leisure, Visiting Friends and Family, and Shopping as the dominant motivations for tourists. The lollipop chart tracks average tourist stay duration, showing a consistent range between 2 to 2.5 days with slight variations over the years.</div>
    </div>

    <script>
        // Function to embed Vega charts with custom sizes
        const embedCharts = (divId, url) => {
            // Default chart width and height
            let defaultWidth = 500;
            let defaultHeight = 400;
    
            // Check if the chart is part of the side-by-side layout and set custom sizes if needed
            if (divId === 'gender-arrivals-chart' || divId === 'country-gender-chart') {
                // Maintain original sizes for side-by-side charts
                vegaEmbed(`#${divId}`, url, {
                    config: {
                        axis: {
                            labelFontSize: 14,   // Axis label size
                            titleFontSize: 14    // Axis title size
                        }
                    }
                }).catch(console.warn);
            } else {
                // Apply default sizes for other charts
                vegaEmbed(`#${divId}`, url, {
                    width: defaultWidth,
                    height: defaultHeight,
                    config: {
                        axis: {
                            labelFontSize: 14,   // Axis label size
                            titleFontSize: 14    // Axis title size
                        }
                    }
                }).catch(console.warn);
            }
        };
    
        // Embedding the charts using their respective URLs
        embedCharts('tourist-countries-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Top%20Tourist%20Sources%20by%20Country.vg.json');
        embedCharts('seasonal-arrivals-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Tourist%20Arrivals%20in%20Malaysia%3A%20A%20Comprehensive%20Overview%20(2013-2023).vg.json');
        embedCharts('gender-arrivals-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Arrivals%20by%20Gender.vg.json');
        embedCharts('country-gender-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Global%20Gender%20Breakdown.vg.json');
        embedCharts('tourist-expenditure-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Inbound%20Tourist%20Expenditure%20by%20Component%20(2014-2023).vg.json');
        embedCharts('revenue-tourist-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Revenue%20Generation%20-%20Tourist%20Arrivals%20and%20Receipts%20in%20Malaysia%20(2006-2023).vg.json');
        embedCharts('regional-tourism-map', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Geographic%20Analysis%20-%20State%20wise%20trends.json');
        embedCharts('purpose-of-visit-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Travel%20Motivation%20-%20Purpose%20of%20Visits.vg.json');        
        embedCharts('stay-trends-chart', 'https://raw.githubusercontent.com/Naillya-33036519/FIT3179_A2/refs/heads/main/js/Trends%20in%20Tourist%20Stay%20(2018-2023).vg.json');
    </script>
</body>
</html>
